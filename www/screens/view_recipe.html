<div class="app-container" id="recipe-container" style="display: none;">
    <div class="header-nav recipe-detail-header">
        <a href="javascript:history.back()" class="back-button" aria-label="Voltar"><i class="fas fa-chevron-left"></i></a>
        <a href="#" id="favorite-btn" class="recipe-action-favorite favorite-toggle-btn" aria-label="Favoritar receita">
            <i class="far fa-heart"></i>
        </a>
    </div>

    <img id="recipe-image" src="" alt="" class="recipe-detail-image">

    <div class="recipe-main-info card-shadow-light">
        <h1 class="recipe-name-main" id="recipe-name"></h1>
        <p class="recipe-description-short" id="recipe-description" style="display: none;"></p>
        <div class="category-tags-container" id="category-tags" style="display: none;"></div>
    </div>

    <div class="recipe-macros-summary card-shadow-light" id="recipe-macros">
        <div class="macro-info-item"><span class="value" id="macro-kcal">0</span><span class="label">Kcal</span></div>
        <div class="macro-info-item"><span class="value" id="macro-carbs">0g</span><span class="label">Carbo</span></div>
        <div class="macro-info-item"><span class="value" id="macro-fat">0g</span><span class="label">Gordura</span></div>
        <div class="macro-info-item"><span class="value" id="macro-protein">0g</span><span class="label">Proteína</span></div>
        <p class="recipe-serving-info" id="serving-info"></p>
    </div>

    <div class="recipe-timing-servings card-shadow-light" id="timing-servings" style="display: none;"></div>

    <div class="recipe-section card-shadow-light" id="ingredients-section" style="display: none;">
        <h3 class="recipe-section-title">Ingredientes</h3>
        <ul class="recipe-ingredient-list" id="ingredients-list"></ul>
    </div>

    <div class="recipe-section card-shadow-light" id="instructions-section" style="display: none;">
        <h3 class="recipe-section-title">Modo de Preparo</h3>
        <div class="recipe-instructions" id="instructions-content"></div>
    </div>

    <div class="recipe-section recipe-notes-card card-shadow-light" id="notes-section" style="display: none;">
        <h3 class="recipe-section-title">Observação</h3>
        <p id="notes-content"></p>
    </div>

    <div class="register-meal-section card-shadow">
        <h3 class="recipe-section-title text-center">Registrar esta Refeição</h3>
        <form id="log-meal-form">
            <input type="hidden" name="recipe_id" id="recipe_id" value="">
            <div class="form-group">
                <label for="meal_type">Refeição:</label>
                <select name="meal_type" id="meal_type" class="form-control"></select>
            </div>
            <div class="form-group">
                <label for="date_consumed">Data:</label>
                <select name="date_consumed" id="date_consumed" class="form-control"></select>
            </div>
            <div class="form-group">
                <label for="servings_consumed">Porções consumidas:</label>
                <input type="number" name="servings_consumed" id="servings_consumed" class="form-control" value="1.0" min="0.1" step="0.1" required>
            </div>
            <button type="submit" class="btn btn-primary"><i class="fas fa-plus"></i> Registrar no Diário</button>
        </form>
    </div>
</div>

<div id="loading-state" style="text-align: center; padding: 40px 20px; color: var(--text-secondary);">
    <i class="fas fa-spinner fa-spin" style="font-size: 48px; margin-bottom: 16px;"></i>
    <p>Carregando receita...</p>
</div>

